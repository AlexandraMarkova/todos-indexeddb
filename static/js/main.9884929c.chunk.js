(this["webpackJsonptodos-indexeddb"]=this["webpackJsonptodos-indexeddb"]||[]).push([[0],{104:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a,c,o=n(0),r=n.n(o),i=n(10),s=n.n(i),l=n(20),d=n(16),u=n(12),j=n(69),b=n(84),p=n(13),O=Object(p.a)("todos/fetchTodosRequest"),h=Object(p.a)("todos/fetchTodosSuccess"),f=Object(p.a)("todos/fetchTodosError"),m=Object(p.a)("todos/addTodoRequest"),x=Object(p.a)("todos/addTodoSuccess"),g=Object(p.a)("todos/addTodoError"),v=Object(p.a)("todos/deleteTodoRequest"),y=Object(p.a)("todos/deleteTodoSuccess"),k=Object(p.a)("todos/deleteTodoError"),w=Object(p.a)("todos/editTodoRequest"),C=Object(p.a)("todos/editeTodoSuccess"),T=Object(p.a)("todos/editTodoError"),S=Object(p.a)("todos/changeFilter"),N=Object(p.b)([],(a={},Object(u.a)(a,h,(function(e,t){return t.payload})),Object(u.a)(a,x,(function(e,t){var n=t.payload;return[].concat(Object(b.a)(e),[n])})),Object(u.a)(a,y,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(u.a)(a,C,(function(e,t){var n=t.payload;return e.map((function(e){return e.id===n.id?Object(j.a)(Object(j.a)({},e),{},{content:n.content,title:n.title,time:n.time}):e}))})),a)),E=Object(p.b)(!1,(c={},Object(u.a)(c,O,(function(){return!0})),Object(u.a)(c,h,(function(){return!1})),Object(u.a)(c,f,(function(){return!1})),Object(u.a)(c,m,(function(){return!0})),Object(u.a)(c,x,(function(){return!1})),Object(u.a)(c,g,(function(){return!1})),Object(u.a)(c,v,(function(){return!0})),Object(u.a)(c,y,(function(){return!1})),Object(u.a)(c,k,(function(){return!1})),c)),B=Object(p.b)("",Object(u.a)({},S,(function(e,t){return t.payload}))),I=Object(p.b)(null,{}),M=Object(d.b)({todos:N,filter:B,loading:E,error:I}),D=n(49),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,A=Object(d.d)(M,R(Object(d.a)(D.a))),F=(n(103),n(104),n(15)),P=Object(o.createContext)(),_=n(19),L=n.n(_),q=n(25),z=n(151),V=n(158),X=n(112),J=n(156),U=n(113),W=n(160),G=n(159),Y=n(171),H=n(52),K=n(168),Q=n(157),Z=new(n(76).a)("db");Z.version(1).stores({posts:"id"}),Z.open().catch((function(e){console.log(e.stack||e)}));var $=n(167),ee=n(170),te=function(e,t){return function(){var n=Object(q.a)(L.a.mark((function n(a){var c;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={id:Object(ee.a)(),title:e,content:t,time:Object($.a)(new Date,"MM/dd/yyyy/hh:mm:ss")},a(m()),n.next=4,Z.posts.add(c);case 4:try{a(x(c))}catch(o){console.log(o.message),a(g(o.message))}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ne=n(2),ae=Object(z.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:300},root:{"& > *":{margin:e.spacing(1),width:"27ch"}}}}));function ce(e){var t=e.onSave,n=ae(),a=Object(l.b)(),c=Object(o.useState)(""),r=Object(F.a)(c,2),i=r[0],s=r[1],d=Object(o.useState)(""),u=Object(F.a)(d,2),j=u[0],b=u[1],p=Object(o.useCallback)((function(e){s(e.currentTarget.value)}),[]),O=Object(o.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=function(){var e=Object(q.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===i||""===j){e.next=13;break}return e.prev=2,e.next=5,a(te(i,j));case 5:t(),s(""),b(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsx)("div",{className:n.paper,children:Object(ne.jsxs)("form",{onSubmit:h,className:n.root,noValidate:!0,autoComplete:"off",children:[Object(ne.jsx)(K.a,{id:"outlined-basic",label:"Add Title",variant:"outlined",value:i,onChange:p}),Object(ne.jsx)(K.a,{id:"outlined-basic",label:"Add Content",variant:"outlined",value:j,onChange:O}),Object(ne.jsx)(Q.a,{variant:"contained",color:"primary",type:"submit",children:"Save todo"})]})})}var oe=n(154),re=n(81),ie=n.n(re),se=Object(z.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},input:{display:"block",width:"100%"},text:{width:"100%"}}})),le=function(){var e=Object(l.b)(),t=Object(o.useContext)(P),n=t.postTitle,a=t.postContent,c=t.id,r=t.toggleEditorOpen,i=t.getActiveTodo,s=Object(o.useState)(n),d=Object(F.a)(s,2),u=d[0],j=d[1],b=Object(o.useState)(a),p=Object(F.a)(b,2),O=p[0],h=p[1],f=se(),m=function(t,n,a){var c=Object($.a)(new Date,"MM/dd/yyyy/hh:mm:ss");e(function(e,t,n,a){return function(){var c=Object(q.a)(L.a.mark((function c(o){return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o(w()),c.next=3,Z.posts.update(e,{title:t,content:n,time:a});case 3:try{o(C({id:e,title:t,content:n,time:a}))}catch(r){console.log(r.message),o(T(r.message))}case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,n,a,c))},x=Object(o.useCallback)(ie.a.debounce((function(e,t,n){return m(e,t,n)}),600),[u,O]);Object(o.useEffect)((function(){x(c,u,O)}),[u,O]);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("form",{className:f.root,noValidate:!0,autoComplete:"off",children:[Object(ne.jsx)(oe.a,{className:f.input,inputProps:{"aria-label":"description"},name:"title",value:u,onChange:function(e){var t=e.currentTarget;j(t.value)}}),Object(ne.jsx)(K.a,{className:f.text,id:"outlined-multiline-static",multiline:!0,rows:4,variant:"outlined",name:"content",value:O,onChange:function(e){var t=e.currentTarget;h(t.value)}})]}),Object(ne.jsx)(Q.a,{variant:"contained",color:"primary",type:"button",onClick:function(){i(u,O),r()},children:"Back"})]})},de=function(){var e=Object(o.useContext)(P),t=e.openEditor,n=e.postTitle,a=e.postContent;return Object(ne.jsx)(ne.Fragment,{children:t?Object(ne.jsx)(le,{}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("h2",{children:[" ",n," "]}),Object(ne.jsx)("p",{children:a})]})})},ue=n(55),je=function(e){return e.todos},be=function(e){return e.filter},pe=Object(ue.a)([je,be],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))})),Oe=Object(z.a)((function(e){return{text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:"100vw"},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:0,bottom:"auto"},fabButton:{position:"absolute",zIndex:1,bottom:-30,left:0,right:0,margin:"0 auto"},flexBar:{display:"flex"},leftTodosBar:{width:"30%",overflow:"hidden"},workspace:{display:"block",overflowX:"auto",padding:e.spacing(2,2,0),width:"70%"},item:{overflow:"hidden"},listItem:{width:"100%"}}}));function he(){var e=Object(o.useContext)(P),t=e.open,n=e.handleClose,a=e.saveId,c=e.getActiveTodo,i=e.postTitle,s=e.postContent,d=e.postTime,u=Object(l.b)(),j=Oe(),b=Object(l.c)(pe);Object(o.useEffect)((function(){u(function(){var e=Object(q.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O()),e.prev=1,e.next=4,Z.posts.toArray();case 4:n=e.sent,t(h(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"),t(f(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[u]);var p=function(){var e=Object(q.a)(L.a.mark((function e(t,n,o){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(n,o),a(t);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(ne.jsxs)(r.a.Fragment,{children:[Object(ne.jsx)(V.a,{}),Object(ne.jsx)(G.a,{maxWidth:"xl",children:Object(ne.jsxs)("div",{className:j.flexBar,children:[Object(ne.jsxs)("div",{className:j.leftTodosBar,children:[Object(ne.jsx)(Y.a,{className:j.modal,open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(ne.jsx)(ce,{onSave:n})}),Object(ne.jsx)("div",{className:j.grow}),b.length>0?Object(ne.jsx)(X.a,{square:!0,className:j.paper,children:Object(ne.jsx)(J.a,{className:j.list,children:b.map((function(e){var t=e.id,n=e.title,a=e.content,c=e.time;return Object(ne.jsx)(r.a.Fragment,{children:Object(ne.jsx)(U.a,{className:j.listItem,button:!0,onClick:function(){return p(t,n,a)},children:Object(ne.jsx)(W.a,{className:j.item,primary:n,secondary:Object(ne.jsxs)(r.a.Fragment,{children:[Object(ne.jsx)(H.a,{component:"p",variant:"body2",color:"textPrimary",children:a}),Object(ne.jsx)(H.a,{component:"p",variant:"body2",color:"textPrimary",children:c})]})})})},t)}))})}):null]}),Object(ne.jsx)("div",{className:j.workspace,children:Object(ne.jsx)(de,{postTitle:i,postContent:s,postTime:d})})]})})]})}var fe=n(17),me=n(163),xe=n(164),ge=n(162),ve=n(115),ye=n(161),ke=n(85),we=n(82),Ce=n.n(we),Te=n(83),Se=n.n(Te),Ne=n(71),Ee=n.n(Ne),Be=n(72),Ie=n.n(Be),Me=n(70),De=n.n(Me),Re=Object(z.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(fe.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(fe.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),Ae=function(){var e=Object(o.useContext)(P),t=e.handleOpen,n=e.togleOpenDeleteModal,a=e.id,c=e.toggleEditorOpen,i=Object(l.b)(),s=Object(l.c)(be),d=Re(),u=r.a.useState(null),j=Object(F.a)(u,2),b=j[0],p=j[1],O=r.a.useState(null),h=Object(F.a)(O,2),f=h[0],m=h[1],x=Boolean(b),g=Boolean(f),v=Object(o.useCallback)((function(e){return i(S(e.target.value))}),[i]),y=function(){m(null)},k=function(){p(null),y()},w=Object(ne.jsxs)(ke.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:k,children:[Object(ne.jsx)(ye.a,{onClick:k,children:"Profile"}),Object(ne.jsx)(ye.a,{onClick:k,children:"My account"})]}),C="primary-search-account-menu-mobile",T=Object(ne.jsxs)(ke.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:C,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:y,children:[Object(ne.jsxs)(ye.a,{children:[Object(ne.jsx)(ge.a,{onClick:t,"aria-label":"add",color:"inherit",children:Object(ne.jsx)(De.a,{})}),Object(ne.jsx)("p",{children:"Add"})]}),a?Object(ne.jsxs)("div",{children:[Object(ne.jsxs)(ye.a,{onClick:n,children:[Object(ne.jsx)(ge.a,{"aria-label":"delete",color:"inherit",children:Object(ne.jsx)(Ee.a,{})}),Object(ne.jsx)("p",{children:"Delete"})]}),Object(ne.jsxs)(ye.a,{onClick:c,children:[Object(ne.jsx)(ge.a,{"aria-label":"adit",color:"inherit",children:Object(ne.jsx)(Ie.a,{})}),Object(ne.jsx)("p",{children:"Edit"})]})]}):null]});return Object(ne.jsxs)("div",{className:d.grow,children:[Object(ne.jsx)(me.a,{position:"static",children:Object(ne.jsxs)(xe.a,{children:[Object(ne.jsx)(H.a,{className:d.title,variant:"h6",noWrap:!0,children:"ToDo-UI"}),Object(ne.jsxs)("div",{className:d.search,children:[Object(ne.jsx)("div",{className:d.searchIcon,children:Object(ne.jsx)(Ce.a,{})}),Object(ne.jsx)(ve.a,{placeholder:"Search\u2026",classes:{root:d.inputRoot,input:d.inputInput},inputProps:{"aria-label":"search"},value:s,onChange:v})]}),Object(ne.jsx)("div",{className:d.grow}),Object(ne.jsxs)("div",{className:d.sectionDesktop,children:[Object(ne.jsx)(ge.a,{onClick:t,"aria-label":"add",color:"inherit",children:Object(ne.jsx)(De.a,{})}),a&&Object(ne.jsxs)(ne.Fragment,{children:[" ",Object(ne.jsx)(ge.a,{onClick:n,"aria-label":"delete",color:"inherit",children:Object(ne.jsx)(Ee.a,{})}),Object(ne.jsx)(ge.a,{"aria-label":"adit",color:"inherit",onClick:c,children:Object(ne.jsx)(Ie.a,{})})]})]}),Object(ne.jsx)("div",{className:d.sectionMobile,children:Object(ne.jsx)(ge.a,{"aria-label":"show more","aria-controls":C,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit",children:Object(ne.jsx)(Se.a,{})})})]})}),T,w]})},Fe=n(165),Pe=n(166);function _e(){var e=r.a.useState(!1),t=Object(F.a)(e,2),n=t[0],a=t[1],c=r.a.useState(null),i=Object(F.a)(c,2),s=i[0],d=i[1],u=Object(o.useState)(""),j=Object(F.a)(u,2),b=j[0],p=j[1],O=Object(o.useState)(""),h=Object(F.a)(O,2),f=h[0],m=h[1],x=Object(o.useState)(""),g=Object(F.a)(x,2),w=g[0],C=g[1],T=Object(o.useState)(!1),S=Object(F.a)(T,2),N=S[0],E=S[1],B=Object(o.useState)(!1),I=Object(F.a)(B,2),M=I[0],D=I[1],R=Object(l.b)(),A=function(e){d(e)},_=function(e){var t;console.log(e),R((t=e,function(){var e=Object(q.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(v()),e.prev=1,e.next=4,Z.posts.delete(t);case 4:n(y(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message),n(k(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()))},z=function(){E(!N)};return Object(ne.jsx)(P.Provider,{value:{open:n,id:s,saveId:A,postTitle:b,postContent:f,postTime:w,handleOpen:function(){a(!0)},handleClose:function(){a(!1)},deletePost:_,getActiveTodo:function(e,t){p(e),m(t)},togleOpenDeleteModal:z,toggleEditorOpen:function(){D(!M)},openEditor:M},children:Object(ne.jsxs)("div",{className:"App",children:[Object(ne.jsx)("header",{children:Object(ne.jsx)(Ae,{})}),Object(ne.jsx)("main",{children:Object(ne.jsx)(he,{})}),Object(ne.jsxs)(Y.a,{open:N,onClose:z,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:[Object(ne.jsx)(Fe.a,{id:"alert-dialog-title",children:"You really want delete this ToDo?"}),Object(ne.jsxs)(Pe.a,{children:[Object(ne.jsx)(Q.a,{variant:"contained",color:"primary",type:"button",onClick:z,children:"Cancel"}),Object(ne.jsx)(Q.a,{variant:"contained",color:"primary",type:"button",onClick:function(){return function(e){_(e),p(""),m(""),C(""),A(null),z()}(s)},children:"Ok"})]})]})]})})}s.a.render(Object(ne.jsx)(r.a.StrictMode,{children:Object(ne.jsx)(l.a,{store:A,children:Object(ne.jsx)(_e,{})})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.9884929c.chunk.js.map